
如果是分布式事务，就@GlobalTransaction

TCC和二阶段XA提交的区别

TCC有第一次的try功能，保证各个参与者能够正常通信，才会去访问数据库。属于应用层面的。

这避免了二阶段提交的占有数据库一直阻塞的问题。

TCC分布式事务，不会一直持有数据库资源 ，重试一定次数之后事务补偿。

三阶段提交引入超时机制，超时自动提交，询问阶段如果超时，则不会开启本次事务，应用层面避免占用数据库资源。